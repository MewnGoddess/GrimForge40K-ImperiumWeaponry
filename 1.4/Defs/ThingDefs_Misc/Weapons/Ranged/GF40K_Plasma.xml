<?xml version="1.0" encoding="UTF-8"?>
<Defs>
	<ThingDef Name="GF40K_BaseRangedPlasma" ParentName="BaseHumanMakeableGun" Abstract="True">
		<techLevel>Ultra</techLevel>
		<tradeNeverStack>true</tradeNeverStack>
		<graphicData>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>1</drawSize>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<!-- <relicChance>3</relicChance> -->
		<recipeMaker>
			<skillRequirements>
				<Crafting>12</Crafting>
			</skillRequirements>
			<recipeUsers>
				<li>FabricationBench</li>
			</recipeUsers>
			<researchPrerequisites>
				<li>GF40K_RegularRangedPlasma</li>
			</researchPrerequisites>
		</recipeMaker>
		<smeltable>false</smeltable>
		<burnableByRecipe>true</burnableByRecipe>
		<notifyMapRemoved>true</notifyMapRemoved>
        <uiIconScale>1</uiIconScale>
        <soundInteract>Interact_ChargeLance</soundInteract>
        <tradeTags>
            <li>GF40K_RangedPlasma</li>
			<li>GF40K_ImperiumRanged</li>
        </tradeTags>
        <weaponClasses>
            <li>RangedHeavy</li>
        </weaponClasses>
        <weaponTags>
            <li>ImperiumRangedPlasma</li>
        </weaponTags>
		<comps Inherit="False">
			<li>
				<compClass>CompColorable</compClass>
			</li>	
				<li Class="CompProperties_Art">
				<nameMaker>NamerArtWeaponGun</nameMaker>
				<descriptionMaker>ArtDescription_WeaponGun</descriptionMaker>
				<minQualityForArtistic>Excellent</minQualityForArtistic>
			</li>  
			<li>
				<compClass>CompQuality</compClass>
			</li>
			<li Class="CompProperties_Forbiddable"/>      
			<li Class="CompProperties_Styleable"/>
			<li>
			  <compClass>CompEquippable</compClass>
			</li>
		</comps>
		<colorGenerator Class="ColorGenerator_Options">
		  <options>
			<li>
			  <weight>10</weight>
			  <only>(0.33,0.33,0.33,1)</only>
			</li>
			<li>
			  <weight>10</weight>
			  <only>(0.65,0.65,0.65,1)</only>
			</li>
			<li>
			  <weight>6</weight>
			  <min>(0.3,0.3,0.3,1)</min>
			  <max>(0.5,0.5,0.5,1)</max>
			</li>
			<li>
			  <weight>10</weight>
			  <only>(0.9,0.9,0.9,1)</only>
			</li>
		  </options>
		</colorGenerator>
	</ThingDef>
	
    <ThingDef ParentName="GF40K_BaseRangedPlasma">
        <defName>GF40K_PlasmaPistol</defName>
        <label>plasma pistol</label>
        <description>Kronos Mark III Pattern plasma pistol is a sized-down variant of an Imperial plasma gun. Despite it's size, it is just as dangerous (both to the target and the user) as it's bigger counterpart. The plasma, when it is being charged, is compressed to what is essentially a a dense gas in order to increase heat retention. The miniature fusion reactor within the weapon is "breached" for a fraction of a second and the fragment of plasma is driven through a narrow tube in a large ferrometalic block, which is supercooled to avoid weapon exploding in the user's hands. Upon reaching the muzzle, the plasma charge is moving at such a high speed and pressure, that should it touch anything - the results would be catastrophic, thus the plasma bolt is propelled by an electromagnetic field.</description>
        <graphicData>
            <texPath>Things/Item/Equipment/WeaponRanged/Plasma/PlasmaPistol</texPath>
            <graphicClass>Graphic_Single</graphicClass>
			<drawSize>0.8</drawSize>
        </graphicData>
		
        <statBases>
            <WorkToMake>40000</WorkToMake>
			<MarketValue>2000</MarketValue>
            <Mass>1.8</Mass>
            <AccuracyTouch>0.82</AccuracyTouch>
            <AccuracyShort>0.70</AccuracyShort>
            <AccuracyMedium>0.65</AccuracyMedium>
            <AccuracyLong>0.55</AccuracyLong>
            <RangedWeapon_Cooldown>0.6</RangedWeapon_Cooldown>
        </statBases>
		
		<costList>
			<Plasteel>65</Plasteel>
			<Uranium>5</Uranium>
			<ComponentSpacer>3</ComponentSpacer>
		</costList>
		
        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <hasStandardCommand>true</hasStandardCommand>
                <defaultProjectile>GF40K_PlasmaPistolBullet</defaultProjectile>
                <warmupTime>0.8</warmupTime>
                <range>23.9</range>
				<!--burstShotCount>2</burstShotCount>
				<ticksBetweenBurstShots>15</ticksBetweenBurstShots-->
                <soundCast>GF40K_LaserPistolShot</soundCast>
                <soundCastTail>GunTail_Light</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
				<targetParams>
				  <canTargetLocations>true</canTargetLocations>
				</targetParams>
            </li>
        </verbs>	
        <tools>
            <li>
                <label>grip</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>2</cooldownTime>
            </li>
            <li>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                    <li>Poke</li>
                </capacities>
                <power>9</power>
                <cooldownTime>2</cooldownTime>
            </li>
        </tools>
		<!--thingClass MayRequire="vanillaexpanded.vwel">VanillaWeaponsExpandedLaser.LaserGun</thingClass-->
		<!--comps>
			<li Class="VanillaWeaponsExpandedLaser.CompProperties_LaserCapacitor" MayRequire="vanillaexpanded.vwel">
				<UiIconPath>UI/EnableWarmup/EnableWarmup</UiIconPath>
				<WarmUpReductionPerShot>0.30</WarmUpReductionPerShot>
				<Overheats>true</Overheats>
				<OverheatDestroys>false</OverheatDestroys>
				<OverheatBlastDamageDef>Burn</OverheatBlastDamageDef>
				<OverheatBlastExtraDamage>3</OverheatBlastExtraDamage>
				<OverheatBlastRadius>1</OverheatBlastRadius>
				<OverheatChance>0.04</OverheatChance>
				<OverheatMoteThrown>HeatGlow</OverheatMoteThrown>
				<OverheatMoteSize>1</OverheatMoteSize>
			</li>		
		</comps-->
		
		<modExtensions>
			<li Class="MuzzleFlash.MuzzleFlashProps" MayRequire="issaczhuang.muzzleflash">
				<def>MF_StandardMuzzleFalshTwo</def>
				<drawSize>(1,1)</drawSize>
				<offsets>
					<li>(0.35,0.05)</li>
				</offsets>
			</li>		
		</modExtensions>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet">
		<defName>GF40K_PlasmaPistolBullet</defName>
		<label>small plasma shot</label>
		<graphicData>
			<texPath>Things/Projectile/W_P_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
			<drawSize>1.7</drawSize>
		</graphicData>
		<projectile>
			<damageDef>Bullet</damageDef>
			<damageAmountBase>24</damageAmountBase>
			<stoppingPower>2.1</stoppingPower>
			<armorPenetrationBase>0.55</armorPenetrationBase>
			<speed>75</speed>
			<extraDamages>
				<li>
					<def>EMP</def>
					<amount>1</amount>
					<chance>0.25</chance>
				</li>
			</extraDamages>
			
		</projectile>
	</ThingDef>
	
    <ThingDef ParentName="GF40K_BaseRangedPlasma">
        <defName>GF40K_PlasmaGun</defName>
        <label>plasma gun</label>
        <description>Ragefire Pattern plasma gun, as any other type of a plasma gun in the Imperium of Mankind is an uncommon weapon, even in the ranks of the Imperial Guard or Adeptus Astartes, most extant plasma guns are hundreds if not thousands of years old. The plasma, when it is being charged, is compressed to what is essentially a a dense gas in order to increase heat retention. The miniature fusion reactor within the weapon is "breached" for a fraction of a second and the fragment of plasma is driven through a narrow tube in a large ferrometalic block, which is supercooled to avoid weapon exploding in the user's hands. Upon reaching the muzzle, the plasma charge is moving at such a high speed and pressure, that should it touch anything - the results would be catastrophic, thus the plasma bolt is propelled by an electromagnetic field.</description>
        <graphicData>
            <texPath>Things/Item/Equipment/WeaponRanged/Plasma/PlasmaGun</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <statBases>
            <WorkToMake>63000</WorkToMake>
			<MarketValue>3000</MarketValue>
            <Mass>2.3</Mass>
            <AccuracyTouch>0.7</AccuracyTouch>
            <AccuracyShort>0.75</AccuracyShort>
            <AccuracyMedium>0.8</AccuracyMedium>
            <AccuracyLong>0.82</AccuracyLong>
            <RangedWeapon_Cooldown>0.6</RangedWeapon_Cooldown>
        </statBases>
        <costList>
			<Plasteel>102</Plasteel>
			<Uranium>8</Uranium>
			<ComponentSpacer>10</ComponentSpacer>
        </costList>
		<equippedAngleOffset>45</equippedAngleOffset>
        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <hasStandardCommand>true</hasStandardCommand>
                <defaultProjectile>GF40K_PlasmaGunBullet</defaultProjectile>
                <warmupTime>1.2</warmupTime>
                <range>21.9</range>
                <soundCast>GF40K_LaserPistolShot</soundCast>
                <soundCastTail>GunTail_Light</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
				<targetParams>
				  <canTargetLocations>true</canTargetLocations>
				</targetParams>
            </li>
        </verbs>
        <tools>
            <li>
                <label>grip</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>2</cooldownTime>
            </li>
            <li>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                    <li>Poke</li>
                </capacities>
                <power>9</power>
                <cooldownTime>2</cooldownTime>
            </li>
        </tools>
		<modExtensions>
			<li Class="MuzzleFlash.MuzzleFlashProps" MayRequire="issaczhuang.muzzleflash">
				<def>MF_StandardMuzzleFalshTwo</def>
				<drawSize>(1,1)</drawSize>
				<offsets>
					<li>(0.35,0.05)</li>
				</offsets>
			</li>		
		</modExtensions>
		<comps>
		  <li>
			<compClass>CompColorable</compClass>
		  </li>
		</comps>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet">
		<defName>GF40K_PlasmaGunBullet</defName>
		<label>plasma gun shot</label>
		<graphicData>
			<texPath>Things/Projectile/W_P_Medium</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
			<drawSize>1.8</drawSize>
		</graphicData>
		<projectile>
			<damageDef>Bullet</damageDef>
			<damageAmountBase>34</damageAmountBase>
			<stoppingPower>3</stoppingPower>
			<armorPenetrationBase>0.6</armorPenetrationBase>
			<speed>80</speed>
			<extraDamages>
				<li>
					<def>EMP</def>
					<amount>1</amount>
					<chance>0.3</chance>
				</li>
			</extraDamages>
		</projectile>
	</ThingDef>
</Defs>
